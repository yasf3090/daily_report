# 取り組んだ課題一覧
- 米国AI開発者がゼロから教えるDocker講座

# わかったこと
#### Docker

- FROM
  - ベースとなるイメージを決定
  - `Dockerfile`は`FROM`から書き始める 
- RUN
  - RUN毎にLayerが作られる 

- CMD
  - コンテナのデフォルトのコマンドを指定
  - CMD ["executable", "param1", "param2"]
  - 原則Dockerfileの最後に記述 

- COPY
  - ホストからコンテナにファイルをコピーできる

- ADD
  - ローカル上での tar アーカイブ展開
  - リモートURLのサポート 

- ENTRYPOINT
  - コンテナのデフォルトのコマンドを指定
  - run時に上書きできない。run時に上書きできるのはCMDの部分のみ

- ENV
  - 環境変数を設定する 

- WORKDIR
  - Docker Instructionの実行ディレクトリを変更する
  - 宣言以降のInstructionは指定したディレクトリで実行

- イメージのLayer数は最小限にする
  - Layerを作るのは`RUN`・`COPY`・`ADD`の3つ
  - コマンドを`&&`でつなげる
  - バックスラッシュ(\)で改行する

- キャッシュの活用
  - キャッシュを活用せずパッケージインストールを行うと時間がかかる
  - Dockerfileメンテ中はキャッシュを活用しながらメンテ時間を削減して<br>
    Dockerfileを書き終えてからLayer数を最小限にする書き方にすればよい

- `RUN`と`CMD`の違い
  - `RUN`はLayerを作る、`CMD`はLayerを作らない
  - イメージにLayerを作りたい処理は`RUN`に記述する 

- `COPY`と`ADD`の使い分け
  - `COPY`はファイル・フォルダをコピーする場合に使う
  - `ADD`はtarの圧縮ファイルをコピーして解凍する場合に使う

- 仮想マシン上のDocker環境
  - dockerグループにユーザを追加すれば、`sudo`なしでDockerコマンドを実行できる
    - Dockerデーモンは、TCPポートの代わりにUnixソケットにバインドしており、<br>
    デフォルトではrootユーザがUnixソケットを所有しているため。
 
# 次やること
- 米国AI開発者がゼロから教えるDocker講座

# 感じたこと
- コンテナにより環境差分をなくせるので、開発者の必須技術と言われている理由がわかった
- コンテナは作る破壊するを繰り返すので、本講座に入ってからpecoが大活躍

### 学習時間
- Today: 8.5h
- Total: 127h